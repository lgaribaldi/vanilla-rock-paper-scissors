<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Rock, Paper, Scissors</title>
    <style>
       * {
          margin:0;
          padding:0;          
        }        
        body {
          padding:10%;
          background:#ccc;
          color:#444;
          font-family:Verdana,sans-serif;
        }
        h1 {          
          line-height:1;
          font-weight:250;
          margin-bottom:1em;
        }
        .main {
          padding:2em;
          background:#eee;
        }
    </style>
  </head>
  <body>

    <h1>Rock, Paper, Scissors</h1>

    <div class="main">

        <script>
            const moves = new Map(
              [
                [1,"rock"], 
                [2,"paper"], 
                [3,"scissors"]
              ]
            );

            // defines all combinations of possible outcomes
            const outcomes = {
              rock : {
                paper : {
                  victory: false,
                  message: "Paper wraps rock"
                },
                scissors : {
                  victory: true,
                  message: "Rock smashes scissors"
                }
              },
              paper : {
                rock : {
                  victory: true,
                  message: "Paper wraps rock"
                },
                scissors : {
                  victory: false,
                  message: "Scissors cut paper"
                }
              },
              scissors : {
                rock : {
                  victory: false,
                  message: "Rock smashes scissors"
                },
                paper : {
                  victory: true,
                  message: "Scissors cut paper"
                }
              }
            };

            // Computer
            const botMove = Math.trunc(Math.random() * moves.size + 1);
            const playerMove = 1; // todo make player choice
                       
            console.log("bot: " + botMove);

            // Compare both choices
            const compareResults = function(choice1,choice2) {                

              if (choice1 == choice2){                
                return {
                  message: "Draw",
                  victory: false
                };
              }

              return outcomes[choice1][choice2];              

            };

            // Run the compare function
            const results = compareResults(
              moves.get(playerMove),
              moves.get(botMove));
            console.log(results);
        </script>

    </div>
  </body>
</html>
